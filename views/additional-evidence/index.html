{% extends "layout.html" %}
{% from "components/error-summary/macro.njk" import govukErrorSummary %}

{% if action === 'options' %}
  {% set pageHeader, pageTitle = content.en.additionalEvidence.evidenceOptions.header %}
{% elseif action === 'post' %}
  {% set pageHeader, pageTitle = content.en.additionalEvidence.evidencePost.header %}
{% elseif action === 'upload' %}
  {% set pageHeader, pageTitle = content.en.additionalEvidence.evidenceUpload.header %}
{% elseif action === 'statement' %}
  {% set pageHeader, pageTitle = content.en.additionalEvidence.evidenceStatement.header %}
{% elseif action === 'confirm' %}
  {% set pageHeader, pageTitle = content.en.additionalEvidence.evidenceConfirm.header %}
{% endif %}

{% block pageTitle %}
  {% if pageTitleError %}
    {{ content.en.errorSummary.errorPageTitle }} {{ pageTitle }} - {{ content.en.general.serviceTitle }} - {{ content.en.general.govUK }}
  {% else %}
    {{ pageTitle }} - {{ content.en.general.serviceTitle }} - {{ content.en.general.govUK }}
  {% endif %}
{% endblock %}

{% block beforeContent %}
  {{ super() }}
  {% if action === 'options' %}
  <a href="/task-list" class="govuk-back-link">{{ content.en.general.back }}</a>
   {% elseif action !== 'confirm' %}
  <a href="/additional-evidence" class="govuk-back-link">{{ content.en.general.back }}</a>
  {% endif %}
{% endblock %}

{% block corContent %}
  <div class="govuk-grid-row">
      {% if error or fileUploadError %}
        {{ govukErrorSummary({
            titleText: content.en.errorSummary.titleText,
            descriptionText: content.en.errorSummary.descriptionText,
            errorList: [
              {
                text: error,
                href: "#question-field"
              } if error,
              {
                text: fileUploadError,
                href: "#file-field"
              } if fileUploadError
            ]
        }) }}
      {% endif %}

      {% if action === 'options' %}

          {% include "additional-evidence/evidence-options.html" %}

      {% elseif action === 'post' %}

          {% include "includes/post-evidence.html" %}

      {% elseif action === 'upload' %}

          {% include "additional-evidence/evidence-upload.html" %}

      {% elseif action === 'statement' %}

          {% include "additional-evidence/evidence-statement.html" %}

      {% elseif action === 'confirm' %}

          {% include "additional-evidence/evidence-confirm.html" %}

      {% endif %}
  </div>
{% endblock %}
