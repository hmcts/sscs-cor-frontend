{% extends "layout.html" %}
{% from "components/navigation-tabs.html" import navigationTabs with context%}
{% from "components/panel.html" import panel %}
{% set pageHeader = i18n.taskList.header %}
{% block corContent %}
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            <h1 class="govuk-heading-xl">{{ i18n.taskList.header }}</h1>
            {% include "includes/appellant-details.html" %}
        </div>
    </div>

    {% include "includes/divider.html" %}

    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            {{ navigationTabs('history') }}
            <div class="task-list">
                <h2 class="govuk-heading-m --margin-bottom-s">{{ i18n.historyTab.header }}</h2>
                <dl class="govuk-summary-list history-list">
                    {% if appeal.historicalEvents %}
                        {% for event in appeal.historicalEvents %}
                            <div class="govuk-summary-list__row">
                                <dd class="govuk-summary-list__value">
                                    <details class="govuk-details">
                                        <summary class="govuk-details__summary">
                                            <span class="govuk-details__summary-text">
                                                {{ i18n.appealEvents[event.type].heading | eval }}
                                            </span>
                                        </summary>
                                        <div class="govuk-details__text">
                                            {{ i18n.appealEvents[event.type].content[appeal.hearingType] | eval }}
                                        </div>
                                    </details>
                                </dd>
                                <dd class="govuk-summary-list__actions">
                                    {{ event.date | dateFilter("DD MMMM YYYY") }}
                                </dd>
                            </div>
                        {% endfor %}
                    {% else %}
                        <div class="govuk-summary-list__row">
                            <dd class="govuk-summary-list__value">
                            no historical events
                        </dd>
                        </div>
                    {% endif %}
                </dl>
            </div>
        </div>
    </div>
{% endblock %}