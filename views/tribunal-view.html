{% from "radios/macro.njk" import govukRadios %}
{% from "button/macro.njk" import govukButton %}
{% from "components/error-summary/macro.njk" import govukErrorSummary %}
{% extends "layout.html" %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {% if error %}
        {{ govukErrorSummary({
          titleText: i18n.errorSummary.titleText,
          descriptionText: i18n.errorSummary.descriptionText,
          errorList: [{
            text: error,
            href: "#accept-view-1"
          }]
        }) }}
      {% endif %}

      <h1 class="govuk-heading-l">{{ i18n.tribunalView.header }}</h1>
      <p>{{ i18n.tribunalView.headerText | eval | date }}</p>
      {% include "includes/appellant-details.html" %}
    </div>
  </div>

  {% include "includes/divider.html" %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <div id="decision">
        <div id="decision-reason">
          <h2 class="govuk-heading-m">{{ i18n.tribunalView.reasonsHeader }}</h2>
          <p id="decision-text">{{ decision.decision_text }}</p>
        </div>
      </div>

      <h2 class="govuk-heading-m">{{ i18n.tribunalView.whatNextHeader }}</h2>
      <p>{{ i18n.tribunalView.whatNextPara }}</p>

      <form action="/tribunal-view" method="post">
        {{ govukRadios({
            classes: "govuk-radios",
            idPrefix: "accept-view",
            name: "accept-view",
            fieldset: {
              legend: {
                text: i18n.tribunalView.acceptHeader,
                isPageHeading: false,
                classes: "govuk-fieldset__legend--m"
              }
            },
            items: [
              {
                value: "yes",
                text: i18n.tribunalView.acceptYes
              },
              {
                value: "no",
                text: i18n.tribunalView.acceptNo
              }
            ],
            errorMessage: {
              text: error
            } if error
          }) 
        }}
        <p>{{ i18n.tribunalView.acceptRespondBy | eval | date }}</p>
        <div id="submit-button">
          {{
            govukButton({
            text: i18n.general.continue
            })
          }}
        </div>
      </form>
      {% include "includes/contact.html" %}
    </div>
  </div>

{% endblock %}